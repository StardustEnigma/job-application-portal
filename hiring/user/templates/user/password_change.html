{% extends "base.html" %}
{% block title %}Change Password{% endblock %}

{% block content %}
<div class="max-w-xl mx-auto mt-12 bg-white p-8 rounded-lg shadow-md">
  <h2 class="text-2xl font-extrabold text-blue-600 text-center mb-6">Change Your Password</h2>

  <form method="POST" class="space-y-5">
    {% csrf_token %}

    <!-- Old Password -->
    <div>
      <label for="old_password" class="block text-sm font-semibold text-gray-700 mb-1">Old Password</label>
      <input type="password" name="old_password" id="old_password"
             class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"
             placeholder="Enter your current password" required>
      {% for error in form.old_password.errors %}
        <p class="mt-1 text-sm text-red-600 bg-red-100 rounded-md px-2 py-1">{{ error }}</p>
      {% endfor %}
    </div>

    <!-- New Password -->
    <div>
      <label for="new_password1" class="block text-sm font-semibold text-gray-700 mb-1">New Password</label>
      <input type="password" name="new_password1" id="new_password1"
             class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"
             placeholder="Create a new password" required>
      {% for error in form.new_password1.errors %}
        <p class="mt-1 text-sm text-red-600 bg-red-100 rounded-md px-2 py-1">{{ error }}</p>
      {% endfor %}
    </div>

    <!-- Confirm New Password -->
    <div>
      <label for="new_password2" class="block text-sm font-semibold text-gray-700 mb-1">Confirm New Password</label>
      <input type="password" name="new_password2" id="new_password2"
             class="w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"
             placeholder="Confirm your new password" required>
      {% for error in form.new_password2.errors %}
        <p class="mt-1 text-sm text-red-600 bg-red-100 rounded-md px-2 py-1">{{ error }}</p>
      {% endfor %}
    </div>

    <!-- Submit Button -->
    <div>
      <button type="submit"
              class="w-full text-white bg-blue-600 hover:bg-blue-700 font-semibold py-2 px-4 rounded-md transition duration-200 shadow">
        Update Password
      </button>
    </div>

    <!-- Non-field Errors -->
    {% if form.non_field_errors %}
      {% for error in form.non_field_errors %}
        <p class="mt-2 text-sm text-red-700 bg-red-100 px-3 py-2 rounded-md">{{ error }}</p>
      {% endfor %}
    {% endif %}
  </form>
</div>
{% endblock %}
